<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <title>Book Your Table</title>
    </head>
    <body>
        <div class="jumbotron jumbotron-fluid">
            <div class="container">
              <h1 class="display-4">Welcome to Popular Restaurant!</h1>
              <p class="lead"> Reserve a Table</p>
              <a href="/" class="btn btn-info">Home</a>
              <a href="/reserved" class="btn btn-info">Check Out The Waitlist!</a>
            </div>
          </div>
        <div class="container"> 
        <form>
            <div class="form-group">
              <label for="id">Your Unique ID</label>
              <input type="text" class="form-control" id="form-id" placeholder="ID">
            </div>
            <div class="form-group">
              <label for="name">Your Name</label>
              <input type="text" class="form-control" id="form-name" placeholder="Name">
            </div>
            <div class="form-group">
                <label for="phone">Phone number</label>
                <input type="text" class="form-control" id="form-phone" placeholder="Phone">
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="text" class="form-control" id="form-email" placeholder="Email">
              </div>
          </form>
          <button type="submit" class="btn btn-info" id="submit-booking">Submit</button>
        </div> 


    <script type="text/javascript">
        const formId = document.getElementById("form-id");
        const formName = document.getElementById("form-name");
        const formPhone = document.getElementById("form-phone");
        const formEmail = document.getElementById("form-email");
        const submitButton = document.getElementById("submit-booking");
        const tables = []

        submitButton.addEventListener("click", () => {
            console.log(formId.value)
            console.log(formName.value)
            console.log(formPhone.value)
            console.log(formEmail.value)

          fetch(`api/book-table`, {
            method: "GET",
            headers: {
            'Content-Type': 'application/json',
          },
          })   
            .then((response) => response.json())
            .then((data) => {
              console.log(data);
              booking = { id: formId.value, name: formName.value, phone: formPhone.value, email: formEmail.value} ;
              data.push(booking);
              console.log(data);
              formId.value = "";
              formPhone.value = "";
              formName.value = "";
              formEmail.value = "";
      })
    })
    </script>    
    </body>
    </html>